# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## 1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫
- **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**: Python
- **Telegram API**: aiogram
- **LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä**: openrouter —á–µ—Ä–µ–∑ openai client
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ª–æ–∂–µ–Ω—ã –≤ –ø—Ä–æ–º–ø—Ç–µ)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Python (dist/list) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
- **–î–µ–ø–ª–æ–π**: Docker
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: pytest
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º**: uv
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏, –∑–∞–ø—É—Å–∫–∞, –¥–µ–ø–ª–æ—è**: make

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞
- **aiogram** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Telegram Bot API
- **openrouter** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º LLM —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π API
- **uv** - –±—ã—Å—Ç—Ä—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
- **Docker** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **make** - –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## 2. –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
1. **KISS (Keep It Simple, Stupid)** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ—à–µ–Ω–∏–π
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è (MVP)** - —Å–Ω–∞—á–∞–ª–∞ –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –ø–æ—Ç–æ–º —É–ª—É—á—à–µ–Ω–∏—è
3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ö –±–µ–∑ –û–û–ü
4. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å —Ö–æ—Ä–æ—à–æ
5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ø–∞–º—è—Ç—å—é
- **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤**: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –≤ Python —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö (dict/list)
- **–í—Ä–µ–º—è —Ö—Ä–∞–Ω–µ–Ω–∏—è**: 24 —á–∞—Å–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–∞–∑–º–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ò–∑–æ–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏**: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **Fallback**: –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ LLM - –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
llmstart_test_1/
‚îú‚îÄ‚îÄ src/                          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ bot/                      # –õ–æ–≥–∏–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers.py           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware.py         # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ llm/                      # –†–∞–±–æ—Ç–∞ —Å LLM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.py             # –ö–ª–∏–µ–Ω—Ç –¥–ª—è openrouter
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prompts.py            # –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ memory/                   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.py            # –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ prompts/                      # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ system_prompt.txt         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
‚îú‚îÄ‚îÄ tests/                        # –¢–µ—Å—Ç—ã pytest
‚îÇ   ‚îú‚îÄ‚îÄ test_bot/                 # –¢–µ—Å—Ç—ã –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_llm/                 # –¢–µ—Å—Ç—ã LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_memory/              # –¢–µ—Å—Ç—ã –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ docker/                       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ doc/                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ product_idea.md
‚îÇ   ‚îú‚îÄ‚îÄ vision.md
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ Makefile                      # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ pyproject.toml                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è uv –∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env.example                  # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                     # –û—Å–Ω–æ–≤–Ω–æ–π README
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: –∫–∞–∂–¥–∞—è –ø–∞–ø–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –æ–±–ª–∞—Å—Ç—å
- **–û–¥–∏–Ω —Ñ–∞–π–ª - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: handlers.py —Ç–æ–ª—å–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- **–í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –æ—Ç–¥–µ–ª—å–Ω–æ**: –ø—Ä–æ–º–ø—Ç—ã –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö –≤–Ω–µ –∫–æ–¥–∞
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É src/
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Docker

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram ‚Üí Bot Handler ‚Üí Memory Check ‚Üí LLM Client ‚Üí OpenRouter ‚Üí Response
     ‚Üë                         ‚Üì              ‚Üì                           ‚Üì
     ‚îî‚îÄ‚îÄ –û—Ç–≤–µ—Ç ‚Üê‚îÄ‚îÄ‚îÄ Validation ‚Üê‚îÄ‚îÄ‚îÄ Memory Update ‚Üê‚îÄ‚îÄ‚îÄ –û–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. Bot Handler (`handlers.py`)
- **–§—É–Ω–∫—Ü–∏–∏**: –ø—Ä–∏–µ–º –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Telegram
- **–ö–æ–º–∞–Ω–¥—ã**: 
  - `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
  - `/help` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
  - –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 1000 —Å–∏–º–≤–æ–ª–æ–≤)

#### 2. Memory Manager (`storage.py`)
- **–§—É–Ω–∫—Ü–∏–∏**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–û–ø–µ—Ä–∞—Ü–∏–∏**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π)
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é
  - –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–π —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**: `dict[user_id] -> list[{"role": "user/assistant", "content": "text", "timestamp": datetime}]`

#### 3. LLM Client (`client.py`)
- **–§—É–Ω–∫—Ü–∏–∏**: –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å OpenRouter API
- **–û–ø–µ—Ä–∞—Ü–∏–∏**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ (—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç + –∏—Å—Ç–æ—Ä–∏—è + –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ OpenRouter
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
- **Retry-–ª–æ–≥–∏–∫–∞**: 3 –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö, –∑–∞—Ç–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 4. Configuration Manager (`settings.py`)
- **–§—É–Ω–∫—Ü–∏–∏**: –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
  - `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
  - `OPENROUTER_API_KEY` - –∫–ª—é—á API OpenRouter
  - `OPENROUTER_MODEL` - –º–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - `MAX_MESSAGE_LENGTH` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (1000)
  - `MEMORY_TTL_HOURS` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏—Å—Ç–æ—Ä–∏–∏ (24)
  - `MAX_HISTORY_SIZE` - —Ä–∞–∑–º–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ (10)

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è**: –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π
- **–ï–¥–∏–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö**: –ª–∏–Ω–µ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: –º–æ–¥—É–ª–∏ –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∞–ø—Ä—è–º—É—é
- **Graceful degradation**: —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Å–±–æ—è—Ö

## 5. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏

#### 1. –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
```python
# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –ø–∞–º—è—Ç–∏
user_sessions: dict[int, UserSession] = {}

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
UserSession = {
    "user_id": int,             # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
    "user_name": str,           # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è
    "history": list[Message],   # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π
    "last_activity": datetime,  # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    "created_at": datetime      # –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
}

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
Message = {
    "role": str,        # "user" –∏–ª–∏ "assistant"
    "content": str,     # –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è  
    "timestamp": datetime
}
```

#### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```python
Config = {
    "TELEGRAM_BOT_TOKEN": str,      # –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
    "OPENROUTER_API_KEY": str,      # –ö–ª—é—á API OpenRouter
    "OPENROUTER_MODEL": str,        # –ú–æ–¥–µ–ª—å LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, "anthropic/claude-3.5-sonnet")
    "MAX_MESSAGE_LENGTH": int,      # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (1000)
    "MEMORY_TTL_HOURS": int,        # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤ —á–∞—Å–∞—Ö (24)
    "MAX_HISTORY_SIZE": int,        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ (10)
    "CLEANUP_INTERVAL_HOURS": int   # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏ (6)
}
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –¥–ª—è –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞**: —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏, –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã

## 6. –†–∞–±–æ—Ç–∞ —Å LLM

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä**: OpenRouter API
- **–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å**: `qwen/qwen-2.5-72b-instruct:free` (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è)
- **–†–µ–∑–µ—Ä–≤–Ω–∞—è –º–æ–¥–µ–ª—å**: `deepseek/deepseek-chat-v3.1:free` (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è)
- **–§–æ—Ä–º–∞—Ç**: OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API —á–µ—Ä–µ–∑ OpenRouter

### –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```python
LLM_Config = {
    "PRIMARY_MODEL": str,       # qwen/qwen-2.5-72b-instruct:free
    "FALLBACK_MODEL": str,      # deepseek/deepseek-chat-v3.1:free
    "TEMPERATURE": float,       # 0.7 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
    "MAX_TOKENS": int,          # 1500 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
    "TOP_P": float,            # 0.9 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
    "RETRY_ATTEMPTS": int       # 3 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫)
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM
1. **–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç** (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `prompts/system_prompt.txt`)
2. **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ OpenAI)
3. **–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

### –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- **–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å**: –ø–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –Ω–∞ `qwen/qwen-2.5-72b-instruct:free`
- **Retry —Å –æ—Å–Ω–æ–≤–Ω–æ–π**: 2 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏
- **Fallback**: –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –º–æ–¥–µ–ª—å
- **–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞**: –µ—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –º–æ–¥–µ–ª—å —Ç–æ–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ HTTP –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ response.choices[0].message.content
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **Timeout**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ (30 —Å–µ–∫—É–Ω–¥)

## 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º**: —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –Ω–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
```python
# –°—á–µ—Ç—á–∏–∫–∏ –≤ –ø–∞–º—è—Ç–∏
Metrics = {
    "requests_total": int,          # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
    "requests_errors": int,         # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
    "llm_response_times": list,     # –í—Ä–µ–º–µ–Ω–∞ –æ—Ç–≤–µ—Ç–∞ LLM (–¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ)
    "active_users_today": set,      # –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞ –¥–µ–Ω—å
    "memory_sessions_count": int,   # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
    "startup_time": datetime        # –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
}
```

### –õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
1. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**:
   - –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
   - –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram API
   - –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OpenRouter API
   - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ (–¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)

2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (–∫–∞–∂–¥—ã–π —á–∞—Å):
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —á–∞—Å
   - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ LLM
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∑–∞ —á–∞—Å
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π

3. **–û—à–∏–±–∫–∏**:
   - –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å LLM –º–æ–¥–µ–ª–µ–π
   - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ OpenRouter

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```
[TIMESTAMP] [LEVEL] [COMPONENT] Message
[2024-09-18 10:30:00] [INFO] [BOT] Bot started successfully
[2024-09-18 10:30:15] [ERROR] [LLM] OpenRouter API error: 429 Too Many Requests
[2024-09-18 11:00:00] [INFO] [STATS] Hourly stats: 45 requests, 1.2s avg response, 2 errors
```

### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
- **–ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤**: —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ù–µ—Ç dashboard**: —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ –≤ stdout
- **–ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –≤ —Ñ–∞–π–ª–∞—Ö**: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏ –∏ –ª–æ–≥–∞—Ö

## 8. –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (/start)
```
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üëã

–Ø - –≤–∞—à –ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ —Ü–µ–ª–µ–π –æ–±—É—á–µ–Ω–∏—è.

üéØ –ü–æ–º–æ–≥–∞—é —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å —É—á–µ–±–Ω—ã–µ —Ü–µ–ª–∏ –ø–æ —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏ –ë–ª—É–º–∞:
‚Ä¢ –ó–Ω–∞–Ω–∏–µ (–∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤)
‚Ä¢ –ü–æ–Ω–∏–º–∞–Ω–∏–µ (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π)  
‚Ä¢ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ)
‚Ä¢ –ê–Ω–∞–ª–∏–∑ (—Ä–∞–∑–±–æ—Ä –Ω–∞ —á–∞—Å—Ç–∏)
‚Ä¢ –°–∏–Ω—Ç–µ–∑ (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ)
‚Ä¢ –û—Ü–µ–Ω–∫–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ)

üìù –ü—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ —Ç–µ–º–∞—Ç–∏–∫—É, –∞ —Ç–∞–∫–∂–µ —á–µ–≥–æ –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ –æ—Ç –æ–±—É—á–∞–µ–º—ã—Ö –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è, –∏ —è –ø–æ–º–æ–≥—É —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –∏–∑–º–µ—Ä–∏–º—ã–µ —Ü–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä: "–¢–µ–º–∞—Ç–∏–∫–∞ - –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ". 
–û–±—É—á–∞–µ–º—ã–π –¥–æ–ª–∂–µ–Ω (–≤–∞—Ä–∏–∞–Ω—Ç—ã):
‚Ä¢ —É–º–µ—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
‚Ä¢ –æ–±—ä—è—Å–Ω–∏—Ç—å –µ–µ —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –æ–±–æ–±—â–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Å–∫–∞–∑–∞—Ç—å  
‚Ä¢ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
‚Ä¢ —É–º–µ—Ç—å —Ä–∞–∑–±–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏, –≤–∏–¥–µ—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –º–æ—Ç–∏–≤—ã –∏ –ø—Ä–∏—á–∏–Ω—ã
‚Ä¢ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç (–∏–∑–¥–µ–ª–∏–µ, –ø—Ä–æ–≥—Ä–∞–º–º—É)
‚Ä¢ —Å–ø–æ—Å–æ–±–µ–Ω –≤—ã—Å–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–Ω–µ–Ω–∏–µ, –¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã
```

#### 2. –ù–æ–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (–±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ê—É–¥–∏—Ç–æ—Ä–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –ø–æ —Ç–µ–º–µ - –û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ"
**–ë–æ—Ç**: –ó–∞–¥–∞–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:
- –î–ª—è –∫–∞–∫–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏? (–≤–æ–∑—Ä–∞—Å—Ç, —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏)
- –ö–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏ –ë–ª—É–º–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ (–∑–Ω–∞–Ω–∏–µ, –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑, —Å–∏–Ω—Ç–µ–∑, –æ—Ü–µ–Ω–∫–∞)?
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è/–∫—É—Ä—Å–∞?
- –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è?
- –ö–∞–∫ –±—É–¥–µ—Ç–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π?
- –ù–∞ –∫–∞–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏) –æ–ø–∏—Ä–∞–µ—Ç–µ—Å—å –ø—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –∑–∞–Ω—è—Ç–∏—è? (–ø—Ä–æ—Å—Ç–æ –±–µ–∑ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —É–∫–∞–∂–∏—Ç–µ "–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π...", "–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º...", –∏ —Ç.–¥.)

#### 3. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ (—Å –∏—Å—Ç–æ—Ä–∏–µ–π)
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: "–ê –∫–∞–∫ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–Ω—è—Ç–∏–π?"
**–ë–æ—Ç**: –û—Ç–≤–µ—á–∞–µ—Ç —Å —É—á–µ—Ç–æ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –Ω–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–∏)

#### 4. –°–ø—Ä–∞–≤–∫–∞ (/help)
```
üìñ –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:

"–ü–æ–º–æ–≥–∏—Ç–µ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è –ø–æ –æ—Å–Ω–æ–≤–∞–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º. –û–±—É—á–∞–µ–º—ã–π –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å (–ø–æ–≤—Ç–æ—Ä–∏—Ç—å) –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é."

"–ù—É–∂–Ω—ã —Ü–µ–ª–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –æ–≥–Ω–µ—Ç—É—â–∏—Ç–µ–ª—è –û–£. –û–±—É—á–∞–µ–º—ã–µ –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è"

"–ö–∞–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è –ø–æ —Ç–µ–º–µ - –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ. –û–±—É—á–∞–µ–º—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –æ–±–æ–±—â–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Å–∫–∞–∑–∞—Ç—å"
```

#### 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–î–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**: "–°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ, —Å–æ–∫—Ä–∞—Ç–∏—Ç–µ –¥–æ 1000 —Å–∏–º–≤–æ–ª–æ–≤"
- **–í–æ–ø—Ä–æ—Å—ã –Ω–µ –ø–æ —Ç–µ–º–µ**: "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–º–æ—â–∏ –≤ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ —Ü–µ–ª–µ–π –æ–±—É—á–µ–Ω–∏—è –ø–æ —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏ –ë–ª—É–º–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –∫—É—Ä—Å–µ –∏–ª–∏ –∑–∞–Ω—è—Ç–∏–∏."
- **–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å LLM**: "–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç"

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **–§–æ–∫—É—Å –Ω–∞ —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏ –ë–ª—É–º–∞**: –≤—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ 6 —É—Ä–æ–≤–Ω—è—Ö –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏, —É—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ—Å–µ–¥—ã
- **–ü–æ—à–∞–≥–æ–≤–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ**: –æ—Ç –æ–±—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞–º
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å**: —Ü–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–º–µ—Ä–∏–º—ã–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏

## 9. –î–µ–ø–ª–æ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
**Railway**
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ (~100 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã)
- **–†–µ—Å—É—Ä—Å—ã**: –¥–æ 512MB RAM, 1GB –¥–∏—Å–∫
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏–∑ GitHub –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**: 5 –º–∏–Ω—É—Ç –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –±–æ—Ç–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: Docker, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è
**Railway –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub:**
1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**: –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Railway
2. **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π**: –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main –≤–µ—Ç–∫—É
3. **–ë–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –Ω–∏–∫–∞–∫–∏—Ö GitHub Actions –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
4. **–õ–æ–≥–∏**: –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–ü—Ä–æ—Ü–µ—Å—Å:**
```
git push origin main ‚Üí Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Üí –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–ø—É—â–µ–Ω–∞
```

### Make –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```makefile
# Makefile
build:
	docker build -t llm-bot .

run:
	docker run -d --name llm-bot --restart=always --env-file .env llm-bot

restart:
	docker stop llm-bot || true
	docker rm llm-bot || true
	make build
	make run

stop:
	docker stop llm-bot
	docker rm llm-bot

logs:
	docker logs -f llm-bot

status:
	docker ps | grep llm-bot
```

### Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```dockerfile
# Dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY . .

RUN pip install uv
RUN uv sync

CMD ["uv", "run", "python", "src/main.py"]
```

### –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ Railway.app
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub**: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
3. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**: –≤—ã–±–æ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –±–æ—Ç–æ–º
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ TELEGRAM_BOT_TOKEN, OPENROUTER_API_KEY –∏ –¥—Ä.
5. **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π**: Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤
- **Auto-deploy**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ push –≤ GitHub
- **Zero-config**: –Ω–∏–∫–∞–∫–∏—Ö Dockerfile –∏–ª–∏ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
- **Monitoring**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **Polling-friendly**: –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Telegram polling –±–æ—Ç–æ–≤

## 10. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env —Ñ–∞–π–ª)

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```env
# .env —Ñ–∞–π–ª (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ Railway)
# –°–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã - —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö
TELEGRAM_BOT_TOKEN=your_bot_token_here     # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
OPENROUTER_API_KEY=your_openrouter_key     # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

#### –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ (—Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```env
# LLM –º–æ–¥–µ–ª–∏
PRIMARY_MODEL=qwen/qwen-2.5-72b-instruct:free          # default
FALLBACK_MODEL=deepseek/deepseek-chat-v3.1:free        # default

# LLM –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
TEMPERATURE=0.7          # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å 0.0-2.0)
MAX_TOKENS=1500          # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
TOP_P=0.9               # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å 0.0-1.0)
RETRY_ATTEMPTS=3        # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)

# –ü–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ—Ç–∞
MAX_MESSAGE_LENGTH=1000      # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
MEMORY_TTL_HOURS=24         # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
MAX_HISTORY_SIZE=10         # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
CLEANUP_INTERVAL_HOURS=6    # default (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤:
   - TELEGRAM_BOT_TOKEN –Ω–µ –ø—É—Å—Ç–æ–π
   - OPENROUTER_API_KEY –Ω–µ –ø—É—Å—Ç–æ–π

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π:
   - TEMPERATURE –æ—Ç 0.0 –¥–æ 2.0
   - MAX_TOKENS > 0
   - TOP_P –æ—Ç 0.0 –¥–æ 1.0
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã > 0

3. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - Telegram API –¥–æ—Å—Ç—É–ø–µ–Ω
   - OpenRouter API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–ª—é—á–æ–º
```

### –°–ø–æ—Å–æ–±—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

#### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- **–§–∞–π–ª**: `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–ü—Ä–∏–º–µ—Ä**: `.env.example` (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤)
- **–ó–∞–≥—Ä—É–∑–∫–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ python-dotenv

#### Railway (–ø—Ä–æ–¥–∞–∫—à–µ–Ω):
- **–í–∞—Ä–∏–∞–Ω—Ç 1**: –∑–∞–≥—Ä—É–∑–∏—Ç—å .env —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–í–∞—Ä–∏–∞–Ω—Ç 2**: —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Railway Variables
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–í–´):
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç**: –≤—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ .env
- **–õ–æ–∫–∞–ª—å–Ω–æ**: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç .env —Ñ–∞–π–ª
- **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**: –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env –≤ Railway

#### –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏):
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç**: –Ω–∏—á–µ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ
- **–û–±—â–∞—é—Ç—Å—è**: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram —Å –±–æ—Ç–æ–º
- **–£–∫–∞–∑—ã–≤–∞—é—Ç**: –ø—Ä–µ–¥–º–µ—Ç, –∞—É–¥–∏—Ç–æ—Ä–∏—é, —É—Ä–æ–≤–µ–Ω—å –ë–ª—É–º–∞ –≤ –¥–∏–∞–ª–æ–≥–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: —Ç–æ–ª—å–∫–æ TELEGRAM_BOT_TOKEN –∏ OPENROUTER_API_KEY
- **–í –ª–æ–≥–∞—Ö**: —Ç–æ–∫–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ `TOKEN=******`
- **–í –∫–æ–¥–µ**: –Ω–∏–∫–∞–∫–∏–µ —Ç–æ–∫–µ–Ω—ã –Ω–µ hardcode –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö
- **–í Railway**: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã

## 11. –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **INFO**: –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å–∞–º
- **WARNING**: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –º–æ–¥–µ–ª—å, –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- **ERROR**: –æ—à–∏–±–∫–∏ API, –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **DEBUG**: –¥–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ)

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
```
[TIMESTAMP] [LEVEL] [COMPONENT] Message
[2024-09-18 10:30:00] [INFO] [BOT] Bot started successfully
[2024-09-18 10:30:15] [ERROR] [LLM] OpenRouter API error: 429 Too Many Requests
[2024-09-18 11:00:00] [INFO] [STATS] Hourly: 45 requests, 1.2s avg, 2 errors, 12 users
```

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º ‚úÖ
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**: –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –æ—à–∏–±–∫–∏ (–±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
- **–û—à–∏–±–∫–∏ API**: –ø—Ä–æ–±–ª–µ–º—ã —Å Telegram/OpenRouter
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π**: fallback –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –º–æ–¥–µ–ª—å
- **User ID**: —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤–æ–π ID –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: user_12345)

### –ß—Ç–æ –ù–ï –ª–æ–≥–∏—Ä—É–µ–º ‚ùå
- **–¢–æ–∫–µ–Ω—ã**: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ `TOKEN=******`
- **–°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ø–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- **–ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: —Ç–æ–ª—å–∫–æ ID –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏
- **API –∫–ª—é—á–∏**: —Å–∫—Ä—ã–≤–∞–µ–º –≤ –ª–æ–≥–∞—Ö

### Railway –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–ê–≤—Ç–æ—Å–±–æ—Ä**: –ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è Railway
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è**: –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ü–æ–∏—Å–∫**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—è–º –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- **Retention**: Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```python
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
[BOT] - —Å–æ–±—ã—Ç–∏—è Telegram –±–æ—Ç–∞
[LLM] - —Ä–∞–±–æ—Ç–∞ —Å OpenRouter API  
[MEMORY] - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–æ–≤
[CONFIG] - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
[STATS] - –ø–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –Ω–∏–∫–∞–∫–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–û—Ç–ª–∞–¥–∫–∞**: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Python logging –≤ stdout
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
